<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EuphorianDash Portfolio Terminal</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  body {
    background-color: #000;
    color: #33ff33; /* Brighter green */
    font-family: 'Courier New', monospace;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    position: relative;
  }
  
  /* CRT Startup Effect */
  .crt-startup {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 10px;
    height: 10px;
    background: #33ff33; /* Brighter green */
    border-radius: 50%;
    transform: translate(-50%, -50%);
    box-shadow: 0 0 30px 20px rgba(51, 255, 51, 0.8);
    z-index: 100;
    animation: startup 1.5s forwards;
  }
  
  .crt-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, transparent 0%, #000 100%);
    z-index: 99;
    animation: fadeOverlay 2s forwards;
  }
  
  .crt-flicker {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(rgba(0, 40, 0, 0.15) 50%, rgba(0,0,0,0.25) 50%), 
                linear-gradient(90deg, rgba(255,0,0,0.06), rgba(0,255,0,0.02), rgba(0,0,255,0.06));
    background-size: 100% 4px, 4px 100%;
    z-index: 10;
    pointer-events: none;
    animation: flicker 0.15s infinite;
    opacity: 0.7;
  }
  
  .scanline {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 10px;
    background: rgba(51, 255, 51, 0.15); /* Brighter green */
    box-shadow: 0 0 10px rgba(51, 255, 51, 0.4);
    animation: scan 4s linear infinite;
    z-index: 11;
    opacity: 0.4;
  }
  
  /* Terminal Container */
  .terminal-container {
    width: 95%;
    max-width: 800px;
    height: 90vh;
    background-color: #000;
    border: 3px solid #33aa33; /* Brighter green */
    box-shadow: 0 0 20px rgba(51, 255, 51, 0.4),
               0 0 30px rgba(0, 150, 0, 0.6),
               inset 0 0 15px rgba(51, 255, 51, 0.3);
    position: relative;
    overflow: hidden;
  }
  
  .terminal-header {
    padding: 10px 15px;
    background-color: #003300;
    border-bottom: 2px solid #33aa33; /* Brighter green */
    font-size: 1.1rem;
    letter-spacing: 1px;
    display: flex;
    justify-content: space-between;
  }
  
  .terminal-title {
    font-weight: bold;
    color: #33ff33; /* Brighter green */
    text-shadow: 0 0 8px rgba(51, 255, 51, 0.7);
  }
  
  .terminal-status {
    color: #33aa33; /* Brighter green */
  }
  
  #terminal {
    height: calc(100% - 40px);
    padding: 20px;
    overflow-y: auto;
    font-size: 15px;
    line-height: 1.4;
    white-space: pre-wrap;
    position: relative;
    color: #33ff33; /* Brighter green */
  }
  
  #inputLine {
    display: inline;
  }
  
  .cursor {
    display: inline-block;
    width: 8px;
    background-color: #33ff33; /* Brighter green */
    animation: blink 1s step-end infinite;
  }
  
  /* Project Gallery */
  .project-gallery {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-top: 15px;
  }
  
  .project-item {
    background: rgba(0, 50, 0, 0.3);
    border: 1px solid #33aa33; /* Brighter green */
    border-radius: 4px;
    padding: 15px;
    transition: transform 0.3s, box-shadow 0.3s;
  }
  
  .project-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 0 15px rgba(51, 255, 51, 0.4);
  }
  
  .project-title {
    color: #33ff33; /* Brighter green */
    font-weight: bold;
    margin-bottom: 8px;
    font-size: 1.1rem;
    text-shadow: 0 0 5px rgba(51, 255, 51, 0.5);
  }
  
  .project-image {
    width: 100%;
    height: 150px;
    background: rgba(0, 60, 0, 0.4);
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    border: 1px solid #33aa33; /* Brighter green */
  }
  
  .project-image img {
    max-width: 100%;
    max-height: 100%;
    object-fit: cover;
  }
  
  .project-desc {
    color: #aaffaa;
    font-size: 0.9rem;
    line-height: 1.4;
  }
  
  /* Games */
  #game-container {
    display: none;
    position: absolute;
    top: 40px;
    left: 0;
    width: 100%;
    height: calc(100% - 40px);
    background: #000;
    z-index: 20;
  }
  
  #game-canvas {
    width: 100%;
    height: 100%;
  }
  
  .game-controls {
    position: absolute;
    bottom: 20px;
    left: 0;
    width: 100%;
    text-align: center;
    color: #33ff33; /* Brighter green */
    font-size: 14px;
    padding: 10px;
    background: rgba(0, 30, 0, 0.8);
    text-shadow: 0 0 3px rgba(51, 255, 51, 0.7);
  }
  
  /* Animations */
  @keyframes blink {
    0%, 100% { background-color: #33ff33; } /* Brighter green */
    50% { background-color: transparent; }
  }
  
  @keyframes flicker {
    0% { opacity: 0.9; }
    20% { opacity: 0.95; }
    40% { opacity: 0.98; }
    60% { opacity: 0.99; }
    80% { opacity: 0.97; }
    100% { opacity: 0.93; }
  }
  
  @keyframes startup {
    0% { 
      width: 10px; 
      height: 10px; 
      box-shadow: 0 0 30px 20px rgba(51, 255, 51, 0.8);
    }
    50% {
      width: 100vw;
      height: 100vh;
      border-radius: 0;
      box-shadow: 0 0 80px 60px rgba(51, 255, 51, 0.6);
    }
    100% { 
      width: 100vw;
      height: 100vh;
      border-radius: 0;
      box-shadow: 0 0 100px 80px rgba(51, 255, 51, 0);
      opacity: 0;
    }
  }
  
  @keyframes fadeOverlay {
    0% { background-color: rgba(0, 0, 0, 1); }
    70% { background-color: rgba(0, 0, 0, 0.8); }
    100% { background-color: rgba(0, 0, 0, 0); }
  }
  
  @keyframes scan {
    0% { top: 0; }
    100% { top: 100%; }
  }
  
  /* Scrollbar styling */
  #terminal::-webkit-scrollbar {
    width: 10px;
  }
  
  #terminal::-webkit-scrollbar-track {
    background: rgba(0, 20, 0, 0.5);
  }
  
  #terminal::-webkit-scrollbar-thumb {
    background: #33aa33; /* Brighter green */
    border-radius: 5px;
  }
  
  #terminal::-webkit-scrollbar-thumb:hover {
    background: #33ff33; /* Brighter green */
  }
</style>
</head>
<body>
  <div class="crt-startup"></div>
  <div class="crt-overlay"></div>
  <div class="crt-flicker"></div>
  <div class="scanline"></div>
  
  <div class="terminal-container">
    <div class="terminal-header">
      <div class="terminal-title">IBM Personal Computer - EuphorianDash Portfolio</div>
      <div class="terminal-status">ONLINE</div>
    </div>
    <div id="terminal"></div>
    <div id="game-container">
      <canvas id="game-canvas"></canvas>
      <div class="game-controls">
        Arrow Keys: Move & Rotate | Space: Fire | P: Pause | ESC: Exit Game
      </div>
    </div>
  </div>

  <script>
  const terminal = document.getElementById('terminal');
  const gameContainer = document.getElementById('game-container');
  const gameCanvas = document.getElementById('game-canvas');
  const ctx = gameCanvas.getContext('2d');

  // Set canvas size
  gameCanvas.width = gameContainer.clientWidth;
  gameCanvas.height = gameContainer.clientHeight - 40;

  // Boot sequence
  let bootLines = [
    "IBM Personal Computer BIOS",
    "Copyright IBM Corp 1981-1987",
    "",
    "System BIOS Version 1.10",
    "",
    "Testing memory...",
    "  640KB OK",
    "",
    "Checking peripherals...",
    "  Keyboard: Detected",
    "  Floppy Drive A: 1.44MB",
    "  Hard Disk C: 20MB",
    "",
    "Initializing video controller...",
    "  MDA: Not detected",
    "  CGA: Not detected",
    "  EGA: Detected",
    "",
    "Starting MS-DOS...",
    "MS-DOS Version 3.30",
    "(C) Copyright Microsoft Corp 1981-1987",
    ""
  ];

  let currentLine = "";
  let history = [];
  let inputEnabled = false;
  let animationInterval = null;

  // ASCII Donut settings
  const width = 40;
  const height = 22;
  let A = 0;
  let B = 0;

  // Projects data
  const projects = {
    coding: [
      {
        title: "Data Saving System",
        desc: "Robust data persistence solution for Roblox games with encryption and compression. This system handles player data securely and efficiently, ensuring data integrity across sessions.",
        img: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='150' viewBox='0 0 300 150'%3E%3Crect width='300' height='150' fill='%23003300'/%3E%3Ctext x='150' y='75' font-family='monospace' font-size='20' fill='%2333ff33' text-anchor='middle'%3EData Saving System%3C/text%3E%3C/svg%3E"
      },
      {
        title: "Network Interactions",
        desc: "Complex event-based networking system for multiplayer experiences. This system enables real-time interactions between players with minimal latency and maximum reliability.",
        img: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='150' viewBox='0 0 300 150'%3E%3Crect width='300' height='150' fill='%23003300'/%3E%3Ctext x='150' y='75' font-family='monospace' font-size='20' fill='%2333ff33' text-anchor='middle'%3ENetwork System%3C/text%3E%3C/svg%3E"
      },
      {
        title: "Physics Simulation",
        desc: "Advanced physics engine for realistic interactions. This system simulates real-world physics with accuracy and performance optimization.",
        img: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='150' viewBox='0 0 300 150'%3E%3Crect width='300' height='150' fill='%23003300'/%3E%3Ctext x='150' y='75' font-family='monospace' font-size='20' fill='%2333ff33' text-anchor='middle'%3EPhysics Engine%3C/text%3E%3C/svg%3E"
      }
    ],
    builds: [
      {
        title: "Retro Cityscape",
        desc: "1980s-inspired cyberpunk city with neon lights and detailed interiors. This build features a fully explorable environment with interactive elements and atmospheric lighting.",
        img: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='150' viewBox='0 0 300 150'%3E%3Crect width='300' height='150' fill='%23003300'/%3E%3Ctext x='150' y='75' font-family='monospace' font-size='20' fill='%2333ff33' text-anchor='middle'%3ERetro City%3C/text%3E%3C/svg%3E"
      },
      {
        title: "Fantasy Castle",
        desc: "Medieval fortress with magical elements and intricate design details. This build includes a fully furnished interior, secret passages, and animated environmental effects.",
        img: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='150' viewBox='0 0 300 150'%3E%3Crect width='300' height='150' fill='%23003300'/%3E%3Ctext x='150' y='75' font-family='monospace' font-size='20' fill='%2333ff33' text-anchor='middle'%3EFantasy Castle%3C/text%3E%3C/svg%3E"
      },
      {
        title: "Space Station",
        desc: "Futuristic orbital station with realistic sci-fi elements. This build features zero-gravity areas, functional airlocks, and detailed control rooms.",
        img: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='150' viewBox='0 0 300 150'%3E%3Crect width='300' height='150' fill='%23003300'/%3E%3Ctext x='150' y='75' font-family='monospace' font-size='20' fill='%2333ff33' text-anchor='middle'%3ESpace Station%3C/text%3E%3C/svg%3E"
      }
    ]
  };

  // Asteroids game variables
  let gameActive = false;
  let ship = { x: 0, y: 0, rotation: 0, velocity: { x: 0, y: 0 }, thrusting: false };
  let asteroids = [];
  let bullets = [];
  let keys = {};
  let score = 0;
  let lives = 3;
  let level = 1;
  let gamePaused = false;

  function typeWriter(text, i = 0, callback) {
    if (i < text.length) {
      terminal.innerHTML += text.charAt(i);
      terminal.scrollTop = terminal.scrollHeight;
      setTimeout(() => typeWriter(text, i + 1, callback), 20);
    } else if (callback) {
      setTimeout(callback, 200);
    }
  }

  function bootSequence(index = 0) {
    if (index < bootLines.length) {
      typeWriter(bootLines[index] + "\n", 0, () => {
        bootSequence(index + 1);
      });
    } else {
      typeWriter("Type 'help' for a list of commands.\n\n", 0, () => {
        printPrompt();
        inputEnabled = true;
        document.addEventListener('keydown', handleInput);
      });
    }
  }

  function printPrompt() {
    currentLine = "";
    const prompt = document.createElement('span');
    prompt.textContent = "C:\\> ";
    terminal.appendChild(prompt);

    const inputSpan = document.createElement('span');
    inputSpan.id = "inputLine";
    terminal.appendChild(inputSpan);

    const cursor = document.createElement('span');
    cursor.className = "cursor";
    terminal.appendChild(cursor);

    terminal.scrollTop = terminal.scrollHeight;
  }

  function handleInput(e) {
    const inputEl = document.getElementById('inputLine');
    const cursor = document.querySelector('.cursor');

    if (!inputEnabled) return;

    if (e.key.length === 1 && !e.ctrlKey) {
      currentLine += e.key;
      inputEl.textContent = currentLine;
    } else if (e.key === "Backspace") {
      currentLine = currentLine.slice(0, -1);
      inputEl.textContent = currentLine;
    } else if (e.key === "Enter") {
      document.removeEventListener('keydown', handleInput);
      inputEl.removeAttribute("id");
      cursor.remove();

      history.push(currentLine);
      processCommand(currentLine.trim().toLowerCase());
    }
  }

  function renderDonut() {
    const chars = ".,-~:;=!*#$@";
    let output = new Array(width * height).fill(' ');
    let zbuffer = new Array(width * height).fill(0);

    for (let j = 0; j < 6.28; j += 0.07) {
      for (let i = 0; i < 6.28; i += 0.02) {
        let c = Math.sin(i);
        let d = Math.cos(j);
        let e = Math.sin(A);
        let f = Math.sin(j);
        let g = Math.cos(A);
        let h = d + 2;
        let D = 1 / (c * h * e + f * g + 5);
        let l = Math.cos(i);
        let m = Math.cos(B);
        let n = Math.sin(B);
        let t = c * h * g - f * e;
        let x = Math.floor(width / 2 + 30 * D * (l * h * m - t * n));
        let y = Math.floor(height / 2 + 15 * D * (l * h * n + t * m));
        let idx = x + width * y;
        
        // Calculate and clamp the character index
        let oVal = Math.floor(chars.length - 1 - (8 * (f * e - c * d * g - l * d * e)));
        let charIndex = Math.max(0, Math.min(oVal, chars.length - 1));
        
        if (y < height && y >= 0 && x >= 0 && x < width && D > zbuffer[idx]) {
          zbuffer[idx] = D;
          output[idx] = chars[charIndex];
        }
      }
    }

    let text = "";
    for (let i = 0; i < output.length; i++) {
      text += output[i];
      if ((i + 1) % width === 0) text += "\n";
    }

    A += 0.07;
    B += 0.03;

    return text;
  }

  function startDonutAnimation() {
    stopAnimation();
    
    terminal.innerHTML += "\n";
    
    animationInterval = setInterval(() => {
      // Remove previous donut frame
      let lines = terminal.innerHTML.trimEnd().split('\n');
      lines.splice(-height, height);
      terminal.innerHTML = lines.join('\n') + '\n';
      
      // Add new frame
      terminal.innerHTML += renderDonut();
      
      terminal.scrollTop = terminal.scrollHeight;
    }, 80);
  }

  function stopAnimation() {
    if (animationInterval) {
      clearInterval(animationInterval);
      animationInterval = null;
    }
  }

  function showProjects(category) {
    const categoryProjects = projects[category];
    let projectsHTML = `
      <div class="project-gallery">
        <div class="project-category">
          <div class="category-title">${category.toUpperCase()} PROJECTS</div>
          <div class="projects-container">
    `;
    
    categoryProjects.forEach(project => {
      projectsHTML += `
        <div class="project-item">
          <div class="project-title">${project.title}</div>
          <div class="project-image">
            <img src="${project.img}" alt="${project.title}">
          </div>
          <div class="project-desc">${project.desc}</div>
        </div>
      `;
    });
    
    projectsHTML += `
          </div>
        </div>
      </div>
      <br>Type 'return' to go back to the main menu.
    `;
    
    terminal.innerHTML += projectsHTML;
    terminal.scrollTop = terminal.scrollHeight;
  }

  // Asteroids Game Functions
  function initAsteroidsGame() {
    // Reset game state
    ship = { 
      x: gameCanvas.width / 2, 
      y: gameCanvas.height / 2, 
      rotation: 0, 
      velocity: { x: 0, y: 0 }, 
      thrusting: false,
      radius: 10
    };
    
    asteroids = [];
    bullets = [];
    score = 0;
    lives = 3;
    level = 1;
    gamePaused = false;
    
    // Create initial asteroids
    for (let i = 0; i < 5; i++) {
      createAsteroid();
    }
    
    gameActive = true;
    gameContainer.style.display = 'block';
    
    // Start game loop
    requestAnimationFrame(gameLoop);
  }
  
  function createAsteroid() {
    const size = Math.random() * 30 + 20;
    const x = Math.random() < 0.5 ? 
      -size : gameCanvas.width + size;
    const y = Math.random() * gameCanvas.height;
    
    const angle = Math.atan2(
      gameCanvas.height / 2 - y, 
      gameCanvas.width / 2 - x
    );
    
    const speed = Math.random() * 2 + 1;
    
    asteroids.push({
      x,
      y,
      size,
      velocity: {
        x: Math.cos(angle) * speed,
        y: Math.sin(angle) * speed
      },
      rotation: Math.random() * Math.PI * 2,
      rotationSpeed: (Math.random() - 0.5) * 0.1
    });
  }
  
  function fireBullet() {
    bullets.push({
      x: ship.x,
      y: ship.y,
      velocity: {
        x: Math.cos(ship.rotation) * 10,
        y: Math.sin(ship.rotation) * 10
      },
      lifespan: 60 // frames
    });
  }
  
  function updateGame() {
    if (gamePaused) return;
    
    // Update ship
    if (keys['ArrowLeft']) ship.rotation -= 0.05;
    if (keys['ArrowRight']) ship.rotation += 0.05;
    
    ship.thrusting = keys['ArrowUp'];
    if (ship.thrusting) {
      ship.velocity.x += Math.cos(ship.rotation) * 0.1;
      ship.velocity.y += Math.sin(ship.rotation) * 0.1;
    }
    
    // Apply friction
    ship.velocity.x *= 0.98;
    ship.velocity.y *= 0.98;
    
    // Update position
    ship.x += ship.velocity.x;
    ship.y += ship.velocity.y;
    
    // Screen wrap
    if (ship.x < -10) ship.x = gameCanvas.width + 10;
    if (ship.x > gameCanvas.width + 10) ship.x = -10;
    if (ship.y < -10) ship.y = gameCanvas.height + 10;
    if (ship.y > gameCanvas.height + 10) ship.y = -10;
    
    // Update bullets
    for (let i = bullets.length - 1; i >= 0; i--) {
      bullets[i].x += bullets[i].velocity.x;
      bullets[i].y += bullets[i].velocity.y;
      bullets[i].lifespan--;
      
      // Remove old bullets
      if (bullets[i].lifespan <= 0) {
        bullets.splice(i, 1);
        continue;
      }
      
      // Screen wrap bullets
      if (bullets[i].x < 0) bullets[i].x = gameCanvas.width;
      if (bullets[i].x > gameCanvas.width) bullets[i].x = 0;
      if (bullets[i].y < 0) bullets[i].y = gameCanvas.height;
      if (bullets[i].y > gameCanvas.height) bullets[i].y = 0;
    }
    
    // Update asteroids
    for (let i = asteroids.length - 1; i >= 0; i--) {
      asteroids[i].x += asteroids[i].velocity.x;
      asteroids[i].y += asteroids[i].velocity.y;
      asteroids[i].rotation += asteroids[i].rotationSpeed;
      
      // Screen wrap asteroids
      if (asteroids[i].x < -asteroids[i].size) asteroids[i].x = gameCanvas.width + asteroids[i].size;
      if (asteroids[i].x > gameCanvas.width + asteroids[i].size) asteroids[i].x = -asteroids[i].size;
      if (asteroids[i].y < -asteroids[i].size) asteroids[i].y = gameCanvas.height + asteroids[i].size;
      if (asteroids[i].y > gameCanvas.height + asteroids[i].size) asteroids[i].y = -asteroids[i].size;
      
      // Check collision with ship
      const dx = ship.x - asteroids[i].x;
      const dy = ship.y - asteroids[i].y;
      const distance = Math.sqrt(dx * dx + dy * dy);
      
      if (distance < asteroids[i].size + ship.radius) {
        lives--;
        if (lives <= 0) {
          gameOver();
          return;
        }
        // Reset ship position
        ship.x = gameCanvas.width / 2;
        ship.y = gameCanvas.height / 2;
        ship.velocity.x = 0;
        ship.velocity.y = 0;
        break;
      }
      
      // Check collision with bullets
      for (let j = bullets.length - 1; j >= 0; j--) {
        const bdx = bullets[j].x - asteroids[i].x;
        const bdy = bullets[j].y - asteroids[i].y;
        const bDistance = Math.sqrt(bdx * bdx + bdy * bdy);
        
        if (bDistance < asteroids[i].size) {
          // Asteroid hit!
          score += Math.floor(100 - asteroids[i].size);
          
          // Create smaller asteroids
          if (asteroids[i].size > 15) {
            for (let k = 0; k < 2; k++) {
              asteroids.push({
                x: asteroids[i].x,
                y: asteroids[i].y,
                size: asteroids[i].size / 2,
                velocity: {
                  x: (Math.random() - 0.5) * 4,
                  y: (Math.random() - 0.5) * 4
                },
                rotation: Math.random() * Math.PI * 2,
                rotationSpeed: (Math.random() - 0.5) * 0.1
              });
            }
          }
          
          // Remove bullet and asteroid
          bullets.splice(j, 1);
          asteroids.splice(i, 1);
          break;
        }
      }
    }
    
    // Add new asteroids if needed
    if (asteroids.length === 0) {
      level++;
      for (let i = 0; i < 3 + level; i++) {
        createAsteroid();
      }
    }
  }
  
  function drawGame() {
    ctx.fillStyle = '#000';
    ctx.fillRect(0, 0, gameCanvas.width, gameCanvas.height);
    
    // Draw stars
    ctx.fillStyle = '#33ff33'; // Brighter green
    for (let i = 0; i < 100; i++) {
      const x = Math.random() * gameCanvas.width;
      const y = Math.random() * gameCanvas.height;
      const size = Math.random() * 2;
      ctx.fillRect(x, y, size, size);
    }
    
    // Draw ship
    ctx.save();
    ctx.translate(ship.x, ship.y);
    ctx.rotate(ship.rotation);
    
    ctx.strokeStyle = '#33ff33'; // Brighter green
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(10, 0);
    ctx.lineTo(-10, -7);
    ctx.lineTo(-10, 7);
    ctx.closePath();
    ctx.stroke();
    
    // Draw thrust
    if (ship.thrusting) {
      ctx.beginPath();
      ctx.moveTo(-10, 0);
      ctx.lineTo(-15 - Math.random() * 5, 0);
      ctx.strokeStyle = '#ff5533';
      ctx.stroke();
    }
    
    ctx.restore();
    
    // Draw bullets
    ctx.fillStyle = '#33ff33'; // Brighter green
    for (const bullet of bullets) {
      ctx.beginPath();
      ctx.arc(bullet.x, bullet.y, 2, 0, Math.PI * 2);
      ctx.fill();
    }
    
    // Draw asteroids
    ctx.strokeStyle = '#33ff33'; // Brighter green
    for (const asteroid of asteroids) {
      ctx.save();
      ctx.translate(asteroid.x, asteroid.y);
      ctx.rotate(asteroid.rotation);
      
      ctx.beginPath();
      for (let i = 0; i < 8; i++) {
        const angle = (i / 8) * Math.PI * 2;
        const distance = asteroid.size * (0.7 + Math.random() * 0.3);
        const x = Math.cos(angle) * distance;
        const y = Math.sin(angle) * distance;
        
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      }
      ctx.closePath();
      ctx.stroke();
      
      ctx.restore();
    }
    
    // Draw HUD
    ctx.fillStyle = '#33ff33'; // Brighter green
    ctx.font = '16px monospace';
    ctx.fillText(`Score: ${score}`, 15, 25);
    ctx.fillText(`Lives: ${lives}`, 15, 45);
    ctx.fillText(`Level: ${level}`, 15, 65);
    
    if (gamePaused) {
      ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
      ctx.fillRect(0, 0, gameCanvas.width, gameCanvas.height);
      ctx.fillStyle = '#33ff33';
      ctx.font = '28px monospace';
      ctx.textAlign = 'center';
      ctx.fillText('PAUSED', gameCanvas.width / 2, gameCanvas.height / 2 - 20);
      ctx.font = '18px monospace';
      ctx.fillText('Press P to resume', gameCanvas.width / 2, gameCanvas.height / 2 + 20);
      ctx.textAlign = 'left';
    }
  }
  
  function gameLoop() {
    if (!gameActive) return;
    
    updateGame();
    drawGame();
    
    requestAnimationFrame(gameLoop);
  }
  
  function gameOver() {
    gameActive = false;
    
    ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
    ctx.fillRect(0, 0, gameCanvas.width, gameCanvas.height);
    
    ctx.fillStyle = '#33ff33';
    ctx.font = '28px monospace';
    ctx.textAlign = 'center';
    ctx.fillText('GAME OVER', gameCanvas.width / 2, gameCanvas.height / 2 - 40);
    ctx.font = '22px monospace';
    ctx.fillText(`Final Score: ${score}`, gameCanvas.width / 2, gameCanvas.height / 2);
    ctx.font = '18px monospace';
    ctx.fillText('Press ESC to return to terminal', gameCanvas.width / 2, gameCanvas.height / 2 + 40);
    ctx.textAlign = 'left';
  }
  
  function handleGameKeys(e) {
    keys[e.key] = e.type === 'keydown';
    
    if (e.key === ' ' && e.type === 'keydown') {
      fireBullet();
    }
    
    if (e.key === 'p' && e.type === 'keydown') {
      gamePaused = !gamePaused;
    }
    
    if (e.key === 'Escape') {
      gameActive = false;
      gameContainer.style.display = 'none';
      document.removeEventListener('keydown', handleGameKeys);
      document.removeEventListener('keyup', handleGameKeys);
      document.addEventListener('keydown', handleInput);
      printPrompt();
    }
  }
  
  function processCommand(cmd) {
    stopAnimation();
    
    switch (cmd) {
      case "coding":
        typeWriter("\n", 0, () => {
          showProjects("coding");
          printPrompt();
          document.addEventListener("keydown", handleInput);
        });
        break;
        
      case "building":
      case "builds":
        typeWriter("\n", 0, () => {
          showProjects("builds");
          printPrompt();
          document.addEventListener("keydown", handleInput);
        });
        break;

      case "about":
        typeWriter(
          "\nHello! My Name is EuphorianDash and this is my portfolio.\n\n" +
          "I am a scripter and builder with 6 to 7 years of experience. I code everything from\n" +
          "data saving systems to complex network interactions. I also have a wide variety of\n" +
          "building styles ranging from Retro, Realism and Fantasy. I can build and code\n" +
          "almost anything you want.\n\n",
          0,
          () => {
            printPrompt();
            document.addEventListener("keydown", handleInput);
          }
        );
        break;

      case "ascii":
        typeWriter(
          "\nAvailable ASCII animations:\n" +
          " donut  - Rotating 3D donut\n" +
          " earth  - Animated Earth\n" +
          " pirate - Pirate ship\n" +
          " cube   - Rotating cube\n\n",
          0,
          () => {
            printPrompt();
            document.addEventListener("keydown", handleInput);
          }
        );
        break;
        
      case "ascii donut":
        typeWriter("\nStarting Donut animation...\n", 0, () => {
          startDonutAnimation();
          printPrompt();
          document.addEventListener("keydown", handleInput);
        });
        break;

      case "history":
        typeWriter("\nCommand History:\n" + history.join("\n") + "\n\n", 0, () => {
          printPrompt();
          document.addEventListener("keydown", handleInput);
        });
        break;

      case "return":
      case "back":
      case "exit":
      case "home":
        terminal.innerHTML = "";
        typeWriter("Type 'help' for a list of commands.\n\n", 0, () => {
          printPrompt();
          document.addEventListener("keydown", handleInput);
        });
        break;

      case "clear":
      case "cls":
        terminal.innerHTML = "";
        printPrompt();
        break;

      case "games":
        typeWriter(
          "\nAvailable games:\n" +
          " asteroids  - Classic space shooter\n" +
          " snake      - Classic snake game\n" +
          " tetris     - Tetris clone\n\n",
          0,
          () => {
            printPrompt();
            document.addEventListener("keydown", handleInput);
          }
        );
        break;
        
      case "games asteroids":
        typeWriter("\nLaunching Asteroids game...\n", 0, () => {
          document.removeEventListener('keydown', handleInput);
          initAsteroidsGame();
          document.addEventListener('keydown', handleGameKeys);
          document.addEventListener('keyup', handleGameKeys);
        });
        break;

      case "dir":
      case "ls":
        typeWriter(
          "\nDirectory of C:\\\n\n" +
          "CODING      <DIR>  06-21-2023  10:30a\n" +
          "BUILDING    <DIR>  06-21-2023  10:30a\n" +
          "ABOUT       TXT      1,024  06-21-2023  10:31a\n" +
          "ASCII       EXE       5,120  06-21-2023  10:32a\n" +
          "GAMES       EXE      12,288  06-21-2023  10:33a\n" +
          "HISTORY     DAT       2,048  06-21-2023  10:33a\n" +
          "RETURN      BAT         256  06-21-2023  10:34a\n" +
          "       7 File(s)     20,736 bytes\n" +
          "       2 Dir(s)   20,480,000 bytes free\n\n",
          0,
          () => {
            printPrompt();
            document.addEventListener("keydown", handleInput);
          }
        );
        break;

      case "help":
        typeWriter(
          "\nAvailable commands:\n" +
          " coding     - View coding projects\n" +
          " building   - View building projects\n" +
          " about      - Learn about me and my skills\n" +
          " ascii      - Display ASCII animations\n" +
          " games      - Play retro games\n" +
          " history    - Show command history\n" +
          " return     - Return to main screen\n" +
          " clear      - Clear the terminal\n" +
          " dir        - List directory contents\n\n",
          0,
          () => {
            printPrompt();
            document.addEventListener("keydown", handleInput);
          }
        );
        break;

      default:
        typeWriter(
          `\n'${cmd}' is not recognized as an internal or external command,\noperable program or batch file.\n\n`,
          0,
          () => {
            printPrompt();
            document.addEventListener("keydown", handleInput);
          }
        );
        break;
    }
  }

  // Start the terminal with CRT effect
  setTimeout(() => {
    bootSequence();
  }, 800);
  </script>
</body>
</html>
